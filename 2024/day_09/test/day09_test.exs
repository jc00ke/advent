defmodule Day09Test do
  use ExUnit.Case
  doctest Day09

  test "part 1 example" do
    assert Day09.part1("example.txt") == 1928
  end

  test "id/1" do
    assert Day09.id("12345") == "0..111....22222"
    assert Day09.id("2333133121414131402") == "00...111...2...333.44.5555.6666.777.888899"
  end

  test "compact/1" do
    assert Day09.compact("0..111....22222") == "022111222......"

    assert Day09.compact("00...111...2...333.44.5555.6666.777.888899") ==
             "0099811188827773336446555566.............."
    _compactions = """
              00...111...2...333.44.5555.6666.777.888899
              009..111...2...333.44.5555.6666.777.88889.
              0099.111...2...333.44.5555.6666.777.8888..
              00998111...2...333.44.5555.6666.777.888...
              009981118..2...333.44.5555.6666.777.88....
              0099811188.2...333.44.5555.6666.777.8.....
              009981118882...333.44.5555.6666.777.......
              0099811188827..333.44.5555.6666.77........
              00998111888277.333.44.5555.6666.7.........
              009981118882777333.44.5555.6666...........
              009981118882777333644.5555.666............
              00998111888277733364465555.66.............
              0099811188827773336446555566..............
              """
  end

  test "filesystem_checksum/1 with a string" do
    assert Day09.filesystem_checksum("0099811188827773336446555566..............") == 1928
  end

  test "filesystem_checksum/1 with a list of numbers" do
    assert Day09.filesystem_checksum([0,0,9,9,8,1,1,1,8,8,8,2,7,7,7,3,3,3,6,4,4,6,5,5,5,5,6,6]) == 1928
  end
end
